<%args>	
	$tourn
	$group_id
</%args>
<%init>

	my $group = Tab::JudgeGroup->retrieve", $group_id) if $group_id; 
	my $switch;

</%init>

	<& menubar.mas, group_id => $group_id, tourn => $tourn, page => "scale" &>

	<div class="left huge">

		<h3>Coach rating scale for <% $group->setting("abbr %></h3>

			<table cellpadding="6" cellspacing="1" width="100%">

				<tr class="lirdrow">

					<th width="50px;">
						<form action="coach_qual_save.mhtml" method="post">
						<input type="hidden" name="group_id" value="<% $group->setting("id %>">
					</th>

					<th class="smaller">
						Name
					</th>

					<th class="smaller">
						Description
					</th>

					<th>
					</th>

				</tr>
			
%				foreach my $qual ", $group->setting("quals(type => "qual") ){ 
			
					<tr <% ", $switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

						<th>
						</th>
		
						<td align="center">
							<input type="text" name="<% $qual->id %>_name" size="3" value="<% $qual->name %>">
						</td>

						<td>
							<input type="text" name="<% $qual->id %>_description" size="50" value="<% $qual->description %>">
						</td>

						<td align="center">
							<a class="whiteblock" href="qual_rm.mhtml?qual_id=<% $qual->id %>">
								[X]
							</a>
						</td>

					</tr>

%				}

				<tr <% ", $switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

					<th class="smaller">
						New:
					</th>

					<td align="center">
						<input type="text" name="new_name" size="3" value="">
					</td>

					<td>
						<input type="text" name="new_description" size="50" value="">
					</td>

					<th>
					</th>

				</tr>

				<tr class="liblrow">

					<td colspan="4" align="right">
						<input type="submit" class="smaller" value="  Save Coach Ratings " style="width: 150px;">
						</form>
					</td>

				</tr>

			</table>


		<h3>Community/MPJ rating scale for <% $group->setting("abbr %></h3>

			<table cellpadding="5" cellspacing="1" width="100%">

				<tr class="lirdrow">

					<th class="smaller">
					</th>

					<th class="smaller">
						Name
					</th>

					<th class="smaller">
						Minimum
					</th>

					<th class="smaller">
						Maximum
					</th>

					<th class="smaller">
						Strike
					</th>

					<th class="smaller">
						Conflict
					</th>

					<th>
						<form action="mpj_qual_save.mhtml" method="post">
						<input type="hidden" name="group_id" value="<% $group->setting("id %>">
					</th>

				</tr>

%				foreach my $qual ", $group->setting("quals(type => "mpj")) { 
			
					<tr <% ", $switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

						<td>
						</td>
		
						<td align="center">
							<input type="text" name="<% $qual->id %>_name" size="3" value="<% $qual->name %>">
						</td>

						<td align="center">
							<input type="text" name="<% $qual->id %>_min" maxlength="2" value="<% $qual->min %>" size="2" onKeyUp="return autoTab(this, 2, event);">%
						</td>

						<td align="center">
							<input type="text" name="<% $qual->id %>_max" maxlength="2" value="<% $qual->max %>" size="2" onKeyUp="return autoTab(this, 2, event);">%
						</td>

						<td align="center">
							<input type="checkbox" name="<% $qual->id %>_strike" value="1"  <% ", $qual->strike) ? 'checked' : '' %> >
						</td>

						<td align="center">
							<input type="checkbox" name="<% $qual->id %>_conflict" value="1"  <% ", $qual->conflict) ? 'checked' : '' %> >
						</td>

						<td align="center" class="smaller">
							<a class="whiteblock" href="<% $Tab::url_prefix %>/setup/qual_rm.mhtml?qual_id=<% $qual->id %>">Delete</a>
						</td>

					</tr>

%				}

				<tr <% ", $switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

					<th class="smaller" width="50px;">
						New:
					</th>

					<td align="center">
						<input type="text" name="new_name" size="3" value="">
					</td>

					<td align="center">
						<input type="text" maxlength="3" name="new_min" size="2" onKeyUp="return autoTab(this, 2, event);">%
					</td>

					<td align="center">
						<input type="text" maxlength="3" name="new_max" size="2" onKeyUp="return autoTab(this, 2, event);">%
					</td>
	
					<td align="center">
						<input type="checkbox" name="new_strike" value="1">
					</td>

					<td align="center">
						<input type="checkbox" name="new_conflict" value="1">
					</td>

					<th>
					</th>


				</tr>

				<tr class="liblrow">
					<td colspan="8" align="right">
						<input type="submit" class="smaller" value="Save Changes" style="width: 150px;">
						</form>
					</td>
				</tr>

			</table>

	</div>


<%args>
	$circuit
	$tourn
	$group_id
	$track_judge_hires => 0
	$hired_fee => 0
	$hired_pool => 0
	$missing_judge_fee => 0
	$uncovered_entry_fee => 0
	$round_hire_fee => 0
</%args>
<%init>

	my $group = Tab::JudgeGroup->retrieve($group_id);

	#Throw an error if both uncovered entry method and missing judge method are set

	if ($uncovered_entry_fee && $hired_fee) { 

		my $err = "You can only use one Hiring Method for judges, not both.";
		$m->redirect("$Tab::url_prefix/setup/judges/hires.mhtml?group_id=$group_id&err=$err");

	}

	$group->setting("track_judge_hires", $track_judge_hires);
	$group->setting("hired_pool", $hired_pool);
	$group->setting("hired_fee", $hired_fee);
	$group->setting("missing_judge_fee", $missing_judge_fee);
	$group->setting("uncovered_entry_fee", $uncovered_entry_fee);
	$group->setting("round_hire_fee", $round_hire_fee);

	my $msg = "Judge group information saved";

	$m->redirect("$Tab::url_prefix/setup/judges/hires.mhtml?group_id=$group_id&msg=$msg");

</%init>

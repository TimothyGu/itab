<%args>
	$tourn
	$from => undef
	$min_panel_size => 0
	$default_panel_size => 0
	$max_panel_size => 0
	$min_chamber_size => 0
	$default_chamber_size => 0
	$max_chamber_size => 0
	$elim_method => 0
	$elim_method_basis => 0
	$num_judges => 0
	$no_back_to_back => 0
	$disable_region_strikes => 0
	$judge_sheet_notice => 0
	$judge_event_twice => 0
	$allow_school_panels => 0
	$allow_neutral_judges => 0
	$allow_judge_own => 0
</%args>
<%init> 

	if ($tourn->method) { 
	
		my $method = $tourn->method;

		$method->min_panel_size($min_panel_size);
		$method->default_panel_size($default_panel_size);
		$method->max_panel_size($max_panel_size);
		$method->min_chamber_size($min_chamber_size);
		$method->default_chamber_size($default_chamber_size);
		$method->max_chamber_size($max_chamber_size);
		$method->elim_method($elim_method);
		$method->elim_method_basis($elim_method_basis);
		$method->no_back_to_back($no_back_to_back);
		$method->disable_region_strikes($disable_region_strikes);
		$method->num_judges($num_judges);
		$method->judge_sheet_notice($judge_sheet_notice);
		$method->judge_event_twice($judge_event_twice);
		$method->allow_school_panels($allow_school_panels);
		$method->allow_neutral_judges($allow_neutral_judges);
		$method->allow_judge_own($allow_judge_own);

		$method->update;

	} else { 
		my $err = "Set registration rules first";
		$m->redirect("registration.mhtml?err=$err");
	}

	if ($from eq "Save Settings & Go To Tabbing Setup") { 
		my $err = "Paneling rules have been saved.  Now enter tabbing rules.";
		$m->redirect("tabbing.mhtml?err=$err");
	} else { 
		my $err = "Paneling rules have been saved.";
		$m->redirect("paneling.mhtml?err=$err");
	}

</%init> 


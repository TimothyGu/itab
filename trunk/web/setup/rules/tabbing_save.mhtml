<%args>
	$tourn
	$from => undef
	$schemat_school_code => 0
	$schemat_display => 0
	$master_printouts => 0
	$honorable_mentions => 0
	$noshows_never_break => 0
	$audit_method => 0
	$novices => 0
	$drop_best_rank => 0
	$drop_worst_rank => 0
	$drop_best_elim => 0
	$drop_worst_elim => 0
	$drop_best_final => 0
	$drop_worst_final => 0
	$truncate_to_smallest => 0
	$truncate_ranks_to => 0
	$mfl_time_violation => 0
	$mfl_flex_finals => 0
</%args>
<%init> 

	if ($tourn->method) { 
	
		my $method = $tourn->method;
		$method->schemat_school_code($schemat_school_code);
		$method->schemat_display($schemat_display);
		$method->master_printouts($master_printouts);
		$method->honorable_mentions($honorable_mentions);
		$method->noshows_never_break($noshows_never_break);
		$method->drop_best_rank($drop_best_rank);
		$method->audit_method($audit_method);
		$method->novices($novices);
		$method->drop_best_rank($drop_best_rank);
		$method->drop_worst_rank($drop_worst_rank);
		$method->drop_best_elim($drop_best_elim);
		$method->drop_worst_elim($drop_worst_elim);
		$method->drop_best_final($drop_best_final);
		$method->drop_worst_final($drop_worst_final);
		$method->truncate_to_smallest($truncate_to_smallest);
		$method->truncate_ranks_to($truncate_ranks_to);
		$method->mfl_time_violation($mfl_time_violation);
		$method->mfl_flex_finals($mfl_flex_finals);
		$method->update;

	} else { 

		my $err = "Please set registration rules first";
		$m->redirect("registration.mhtml?err=$err");

	}

	if ($from eq "Save Settings & Set Up Tiebreakers") { 

		my $err = "Tabbing rules have been saved.  Now enter tiebreaker priority:";
		$m->redirect("tiebreaks.mhtml?err=$err");

	} else { 

		my $err = "Tabbing rules have been saved.  $from.";
		$m->redirect("tabbing.mhtml?err=$err");
	}

</%init> 


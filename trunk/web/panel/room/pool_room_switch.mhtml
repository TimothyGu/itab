<%args>
	$room_id => undef
	$pool_id => undef
	$value => undef
</%args>
<%init>

	my $existing = Tab::RoomPoolRoom->search( room => $room_id, pool => $pool_id )->first;

	my $err = "Room $room_id Pool $pool_id Value $value";

	$m->print('<script type="text/javascript" language="javascript"> $(document).ready(function() { $.jGrowl('$err', { header: \'Warning\', life: 8000, theme: \'warning\', position: \'top-right\' }); }); </script>');


	if ($value && $room_id && $pool_id) { 

		unless ($existing) { 

			Tab::RoomPoolRoom->create({
				room => $room_id,
				pool => $pool_id
			});
		}

	} else { 

		$existing->delete if $existing;
	}

</%init>


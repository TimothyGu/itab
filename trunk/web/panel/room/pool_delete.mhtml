<%args>
	$tourn
	$pool_id => undef
	$all => undef
</%args>
<%init>

	my $msg;

	if ($all) { 

		foreach my $pool ($tourn->room_groups) { 
			$pool->delete;
		}

		$msg = "All room pools deleted";

	} elsif ($pool_id) { 

		my $pool = Tab::RoomGroup->retrieve($pool_id);
		$msg = "Pool ".$pool->name." deleted";
		$pool->delete;

	}

	$m->redirect("pool.mhtml?msg=$msg");

</%init>


<%args>
	$round_id
	$type => undef
</%args>
<%init>

	my $round = Tab::Round->retrieve($round_id);
	my $msg;

	if ($type eq "motion") { 

		if ($round->motion_published) { 
			$round->motion_published("");
			$msg = "Round has been removed from the public website";
		} else { 
			$round->motion_published(1);
			$msg = "Round has been published on the public website";
		}

	} else {

		if ($round->published) { 
			$round->published("");
			$msg = "Round has been removed from the public website";
		} else { 
			$round->published(1);
			$msg = "Round has been published on the public website";
		}
	}

	$round->update;
	$m->redirect("show.mhtml?round_id=$round_id&msg=$msg");

</%init>

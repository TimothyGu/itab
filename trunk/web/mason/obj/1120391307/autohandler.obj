package HTML::Mason::Commands;
use strict;
use vars qw($m $r);
HTML::Mason::Component::FileBased->new(
'code' => sub {
HTML::Mason::Exception::Params->throw
    ( error =>
      "Odd number of parameters passed to component expecting name/value pairs"
    ) if @_ % 2;
my ( $err, $msg, $fullmsg );
{
    my %pos;
    for ( my $x = 0; $x < @_; $x += 2 )
    {
        $pos{ $_[$x] } = $x + 1;
    }
#line 2 "/www/tab/autohandler"
     $err = exists $pos{'err'} ? $_[ $pos{'err'} ] :  undef;
#line 3 "/www/tab/autohandler"
     $msg = exists $pos{'msg'} ? $_[ $pos{'msg'} ] :  undef;
#line 4 "/www/tab/autohandler"
     $fullmsg = exists $pos{'fullmsg'} ? $_[ $pos{'fullmsg'} ] :  undef;
}
$m->debug_hook( $m->current_comp->path ) if ( HTML::Mason::Compiler::IN_PERL_DB() );

#line 6 "/www/tab/autohandler"


	my ($account, $session) = $m->comp( "/user/login/authenticate.mas");

	my $league = $session->league if $session;

	my $tourn = $session->tournament if $session && ($r->uri !~ /index/);

	my $debug;

	my $tz = $league->timezone if $league;
	$tz = "America/New_York" unless $tz;

#line 20 "/www/tab/autohandler"
$m->print( '
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

	<html>

		<head>

			<link rel="stylesheet" type="text/css" media=screen href="/lib/css/tabroom.css">

' );
#line 29 "/www/tab/autohandler"
			unless ($r->uri =~ /user/ || $r->uri =~ /admin/ || $r->uri =~ /league/ || $r->uri =~ /index/ || $r->uri =~ /liveupdates\// || $r->uri =~ /donate/) { 
$m->print( '				<link rel="stylesheet" type="text/css" media=screen href="/lib/css/headerless.css">
' );
#line 31 "/www/tab/autohandler"
			}
$m->print( '
			<script type="text/javascript" src="/lib/javascript/tabroom.js"></script>

			<title>
				Tabroom.com
				' );
#line 37 "/www/tab/autohandler"
$m->print(  ($tourn) ? ": ".$tourn->name : ($league) ? ": ".$league->name : ""  );
#line 37 "/www/tab/autohandler"
$m->print( '
				' );
#line 38 "/www/tab/autohandler"
$m->print(  ($account && $tourn && $account->site_admin) ? $tourn->id : ""  );
#line 38 "/www/tab/autohandler"
$m->print( '
			</title>


' );
#line 42 "/www/tab/autohandler"
			if ($err) { 
$m->print( '				<script type="text/javascript" language="javascript">
					$(document).ready(function() {
						$.jGrowl("' );
#line 45 "/www/tab/autohandler"
$m->print(  $err  );
#line 45 "/www/tab/autohandler"
$m->print( '", { header: \'Warning\', life: 10000, theme: \'warning\', position: \'top-left\', sticky: true });
					});
				</script>
' );
#line 48 "/www/tab/autohandler"
			}
$m->print( '
' );
#line 50 "/www/tab/autohandler"
			if ($msg) { 
$m->print( '				<script type="text/javascript" language="javascript">
					$(document).ready(function() {
						$.jGrowl("' );
#line 53 "/www/tab/autohandler"
$m->print(  $msg  );
#line 53 "/www/tab/autohandler"
$m->print( '", { header: \'Result\', life: 4000  });
					});
				</script>
' );
#line 56 "/www/tab/autohandler"
			}
$m->print( '
' );
#line 58 "/www/tab/autohandler"
			if ($fullmsg) { 
$m->print( '				<script type="text/javascript" language="javascript">
					$(document).ready(function() {
						$.jGrowl("' );
#line 61 "/www/tab/autohandler"
$m->print(  $fullmsg  );
#line 61 "/www/tab/autohandler"
$m->print( '", { header: \'Notice\', theme: \'full\', position: \'center\', sticky: true  });
					});
				</script>
' );
#line 64 "/www/tab/autohandler"
			}
$m->print( '
	</head>

' );
#line 68 "/www/tab/autohandler"


 	my $bodystyle;

	if ($r->hostname =~ /tabdev/ || $r->hostname =~ /tabpro/ || $r->hostname =~ /zain/) { 
		$bodystyle = "style=\"background-image: none; background-color: #660000;\"";
	}

	if ($r->hostname =~ /tab.tabroom.com/) { 
		$bodystyle = "style=\"background-image: none; background-color: #444444;\"";
	}

	if ($r->hostname =~ /sandbox.tabroom.com/) { 
		$bodystyle = "style=\"background-image: none; background-color: #666666;\"";
	}

#line 85 "/www/tab/autohandler"
$m->print( '
' );
#line 86 "/www/tab/autohandler"
 	if ($r->uri =~ /tabbing\/rank/ || $r->uri =~ /user\/login/ || $r->uri =~ /tabbing\/congress_sweeps/ ) { 
$m->print( '
		<body OnLoad="placeFocus()" ' );
#line 88 "/www/tab/autohandler"
$m->print(  $bodystyle  );
#line 88 "/www/tab/autohandler"
$m->print( '>

' );
#line 90 "/www/tab/autohandler"
 	} else { 
$m->print( '
		<body ' );
#line 92 "/www/tab/autohandler"
$m->print(  $bodystyle  );
#line 92 "/www/tab/autohandler"
$m->print( '>

' );
#line 94 "/www/tab/autohandler"
 	}
$m->print( '
	<div id="' );
#line 96 "/www/tab/autohandler"
$m->print(  ($session) ? "header" : "indexheader"  );
#line 96 "/www/tab/autohandler"
$m->print( '">

		<div id="headerlinks">

			<a href="http://www.summitdebate.com">
				<img src="' );
#line 101 "/www/tab/autohandler"
$m->print(  $Tab::url_prefix  );
#line 101 "/www/tab/autohandler"
$m->print( '/lib/images/transparent-summit.gif"></a>

			<br>

			<a href="' );
#line 105 "/www/tab/autohandler"
$m->print(  $Tab::url_prefix  );
#line 105 "/www/tab/autohandler"
$m->print( '">
				<img src="' );
#line 106 "/www/tab/autohandler"
$m->print(  $Tab::url_prefix  );
#line 106 "/www/tab/autohandler"
$m->print( '/lib/images/transparent-tabroom.gif">
			</a>

		</div>

		<div id="login">
			' );
#line 112 "/www/tab/autohandler"
$m->comp(   "/user/login/login_block.mas", session => $session, account => $account   
); #line 112 "/www/tab/autohandler"
$m->print( '
		</div>

	</div>

' );
#line 117 "/www/tab/autohandler"
		$m->call_next( 	debug => $debug, 
						account => $account, 
						tz => $tz, 
						league => $league, 
						tourn => $tourn, 
						session => $session );
$m->print( '
	</body>

</html>

' );
;return;
},
'declared_args' => {
  '$err' => { default => ' undef' },
  '$fullmsg' => { default => ' undef' },
  '$msg' => { default => ' undef' }
},
'load_time' => 1321701402,

)
;
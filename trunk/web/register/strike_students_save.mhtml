<%args>
	$tourn
	$account
	$name
	$judge_id
</%args>
<%init>

    my $search_name =$name."%"; 
    my @students = Tab::Student->search_like( last => $search_name );

	my $msg;

	foreach my $student (@students) { 

		next unless $ARGS{$student->id};

		foreach my $comp ($student->entries($tourn)) { 
				
			my $strike = Tab::Strike->create({ 
				tournament=> $tourn->id,
				judge => $judge_id,
				type => "comp",
				comp => $comp->id
			});
				
		}
	
		$msg .= "Judge was struck against ".$student->first." ".$student->last." <br />";

	}

	$m->redirect("$Tab::url_prefix/register/strikes.mhtml?judge_id=$judge_id&msg=$msg");

</%init>

<%args>
	$circuit
	$group_id
	$tourn
	$tz
</%args>
<%init>

	my $group = Tab::JudgeGroup->retrieve($group_id);

</%init>

	<& sidebar.mas, tourn => $tourn, whoami => "conflicts", group => $group &>

	<div class="left huge">

		<h2><% $group->abbr %> Conflicts</h2>
	
%		my $switch;

		<table cellpadding="5" cellspacing="1" width="100%">

%		foreach my $judge (sort {$a->code <=> $b->code} $m->comp("/funclib/group_struck_judges.mas", group => $group)) { 

			<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

				<td width="25%">
					<a class="white block" href="/register/judge_edit.mhtml?judge_id=<% $judge->id %>">
						<% $judge->last.", ".$judge->first %>
					</a>
				</td>

				<td>

%					foreach my $strike ($judge->strikes) {

%   					if (($strike->type eq "entry" ) ||  ($strike->type eq "conflict" )) {

							<span style="display: inline-block;width: 110px;">
								<% $strike->type eq "conflict" ? "Conflict" : "Strike" %>
							</span>

							<span style="display: inline-block;width: 180px;">
								<% ($strike->entry) ? $strike->entry->name : "" %>
								<% ($strike->school) ? $strike->school->name : "" %>
							</span>

							<% $strike->entry ? substr($strike->entry->school->short_name,0,10) : "" %>

%   					}

						<br style="clear: both;">

%					} #end of foreach strike

			</td>

			</tr>

%		} #end of foreach judge

		</table>

	</div>


<%args>
	$tourn
	$group_id
</%args>
<%init>

	my $group = Tab::JudgeGroup->retrieve($group_id);

	my @hired_judges =  Tab::Judge->search( spare_pool => 1, 
											judge_group => $group->id );


	my @classes = $group->classes;

	my @quals = sort {$a->name cmp $b->name} $tourn->quals( type => "coach");

	my $qual_def = $tourn->method->default_qualification->id;


</%init>

	<h2>Add Hired judges for <% $tourn->name %></h2>

	<p>You have <% scalar @hired_judges %> hired judges so far</p>

	<table cellpadding="6" cellspacing="0" width="100%">

		<tr>
			<td>
				<form action="hires_save.mhtml" method="post">
				<input type="hidden" name="group_id" value="<% $group->id %>">
			</td>

			<th>
				First
			</th>
			
			<th>
				Last
			</th>
			
			<th>
				Active
			</th>
			
			<th>
				Notes
			</th>

			<th>
				Special Job
			</th>

% 			if ($tourn->method->judge_quality_system == 1) {
%				foreach my $class (@classes) {
					<th>
						<% $class->name %>
					</th>
%				}
%			}

		</tr>

%	my $switch;

%	foreach my $tick (1 .. 10) {

%	$switch++;

<tr <% ($switch % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

<td><% $tick %></td>

<td>
<input type="text" name="first_<% $tick %>" size="15">
</td>

<td>
<input type="text" name="last_<% $tick %>" size="15">
</td>

<td>
<input type="checkbox" name="active_<% $tick %>" checked value="1">
</td>

<td>
<input type="text" name="notes_<% $tick %>" size="15">
</td>

<td>
<input type="text" name="special_<% $tick %>" size="15">
</td>

% if ($tourn->method->judge_quality_system == 1) {
%	foreach my $class (@classes) {

    <td>
    <select name="class_qual_<%$class->id %>_<% $tick %>">
%   foreach my $qual (@quals) {
        <option value="<% $qual->id %>" <% ($qual->id == $qual_def) ? 'selected' : '' %>>
        <% $qual->name %>
        </option>
%   }
    </select>
    </td>
%	}
% }




% }


<tr>
<td colspan="7" align="center">
<input  type="submit" value="Add Judges to Tournament">
</td>
</tr>

</form>


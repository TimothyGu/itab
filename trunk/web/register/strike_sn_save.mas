<%args>
	$tourn
	$account
	$judge_id
	$student_id
</%args>
<%init>

	my $student = Tab::Student->retrieve($student_id);
	my @comps = $student->comps( tournament => $tourn->id);
	push (@comps, $student->parts( tournament => $tourn->id));

	foreach my $comp (@comps) { 
				
		my $strike = Tab::Strike->create({ 
			tournament=> $tourn->id,
			judge => $judge_id,
			type => "comp",
			comp => $comp->id
		});
			
	}
			
	my $err = "Judge was struck against ".$student->first." ".$student->last;

	$m->redirect("$Tab::url_prefix/register/judge_edit.mhtml?err=$err&judge_id=$judge_id");		

</%init>

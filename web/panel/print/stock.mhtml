<%args>
	$circuit
	$tourn
	$account
</%args>
<%init>

	my @events = $m->comp("/funclib/tourn_events.mas", tourn => $tourn);
	my @timeslots = $tourn->timeslots;
	@events = sort { $a->name cmp $b->name } @events;
	@timeslots = sort { $a->start cmp $b->start } @timeslots;
	my $switch; 

</%init>

	<div class="left huge">

		<h2>Printouts</h2> 

		<table cellpadding="9" width="100%" cellspacing="1">

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

				<td>
					<form action="print_schematics.mas" method="post">
					Schematics
				</td>

				<td>
					<select name="timeslot_id"> 

						<option value="all">
							All Timeslots
						</option> 

% 					foreach my $timeslot(@timeslots) { 
							<option value="<% $timeslot->id %>">
								<% $timeslot->name %>
							</option> 
% 					}
						
					</select>

				</td> 
				
				<td>
				
					<select name="event_id"> 

						<option value="all">All Events</option> 

% 					foreach my $event(@events) { 
							<option value="<% $event->id %>"><% $event->name %></option> 
% 					}

					</select>
				</td> 
				
				<td>
					For Tab
					<input type="checkbox" name="schools" value="hewwo">
				</td>
				
				<td>
					<input  type="submit" value="Print"> 
					</form>
				</td>
				
			</tr>

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">
			
				<td>
					Postings
				</td>
				
				<td>
					<form action="print_postings.mas" method="post">

					<select name="timeslot_id"> 

						<option value="all">All Timeslots</option> 

% 					foreach my $timeslot(@timeslots) { 
							<option value="<% $timeslot->id %>"><% $timeslot->name %></option> 
% 					}

					</select> 
					
				</td>
				
				<td>
				
					<select name="event_id"> 
					
						<option value="all">All Events</option> 

% 					foreach my $event(@events) { 
							<option value="<% $event->id %>"><% $event->name %></option> 
% 					}

					</select>
					
				</td>

				<td>
				</td>
				
				<td>
					<input  type="submit" value="Print"> 
					</form>
				</td>
				
			</tr>

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

				<td>
					<form action="judgechart_print.mhtml" method="post">
					Judge Chart
				</th>

				<td>
					<select name="sort_by">
						<option value="code">by Judge Code</option>
						<option value="last">by Last Name</option>
					</select>
				</td>
		
				<td>
					<select name="group_id">

% 					foreach my $group (sort {$a->abbr cmp $b->abbr} $tourn->groups) {
							<option value="<% $group->id %>">
								<% $group->abbr %>
							</option>
%						}

						<option value="">----------</option>

					</select>
				</td>

				<td>
				</td>

				<td>
					<input  type="submit" value="Print">
					</form>
				</td>

			</tr>

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

				<td>
					Judge Subs
				</td>
				
				<td>

					<form action="print_judge_subsheets.mhtml" method="post">

					<select name="timeslot_id"> 
% 					foreach my $timeslot(@timeslots) { 
							<option value="<% $timeslot->id %>"><% $timeslot->name %></option> 
% 					}
					</select> 
					
				</td>
				
				<td>
					<select name="event_id"> 

						<option value="all">All Events (slow)</option> 

% 						foreach my $event(@events) { 
								<option value="<% $event->id %>"><% $event->name %></option> 
% 						}

					</select>
				</td> 
				
				<td>
				</td>
				
				<td>
					<input  type="submit" value="Print"> 
					</form>
				</td>
			</tr>

%			unless ($tourn->setting("ncfl")) {

				<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">
		
					<td>
						Ballot Labels
					</td> 
					
					<td>
						<form action="print_ballot_labels.mas" method="post">

						<select name="timeslot_id"> 

							<option value="all">All Timeslots</option> 

% 						foreach my $timeslot(@timeslots) { 
								<option value="<% $timeslot->id %>"><% $timeslot->name %></option> 
% 						}
						</select>
					</td> 
					
					<td>

						<select name="event_id"> 

							<option value="all">All Events</option> 

% 						foreach my $event(@events) { 
								<option value="<% $event->id %>"><% $event->name %></option> 
% 						}

						</select>
					</td> 
					
					<td class="smaller">
						<a class="white block" href="adjust_labels.mhtml">Adjust Labels</a>
					</td>
					
					<td>
						<input  type="submit" value="Print"> 
						</form>
					</td>
				</tr>
%			}

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">
				
				<td>
					Master Ballots
				</td>
				
				<td>
					<form action="print_master_ballots.mas" method="post">
					<select name="timeslot_id"> 
						
						<option value="all">All Timeslots</option> 

% 					foreach my $timeslot(@timeslots) { 
							<option value="<% $timeslot->id %>"><% $timeslot->name %></option> 
% 					}

					</select> 
				</td>
				
				<td>
					<select name="event_id"> 
						<option value="all">All Events</option> 

% 					foreach my $event(@events) { 
							<option value="<% $event->id %>"><% $event->name %></option> 
%						}

					</select>
				</td>
				
				<td>
					Sort:
					<select name="sort_by">
						<option value="">Panel</option>
						<option value="code">Code</option>
						<option value="school">School</option>
						<option value="name">Name</option>
					</select>
				</td> 
				
				<td>
					<input  type="submit" value="Print">
					</form>
				</td>
					
			</tr>

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

				<td>	
					Ballot Table
				</td>
		
				<td>
					<form action="print_checkin.mas" method="post">
					<select name="timeslot_id"> 
% 					foreach my $timeslot(@timeslots) { 
							<option value="<% $timeslot->id %>"><% $timeslot->name %></option> 
% 					}
					</select>
				</td>
		
				<td>
					<select name="event_id">

						<option value="">All Events</option>

%						foreach my $event ($m->comp("/funclib/tourn_events.mas", tourn => $tourn)) {
							<option value="<% $event->id %>">
								<% $event->name %>
							</option>

%						}

					</select>
				</td> 

				<td>
					<select name="sort_by">
						<option value="jcode">By Judge Code</option>
						<option value="jname">By Judge Name</option>
						<option value="room">By Room</option>
						<option value="event">By Event</option>

					</select>
				</td>
				
				<td align="center">
					<input  type="submit" value="Print"> 
					</form>
				</td> 
				
			</tr> 

%			if ($tourn->setting("ncfl")) { 

				<tr>
					<td colspan="8">
						<h4>NCFL Tabulation</h4>
					</td>
				</tr>

				<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

					<td>
						Hand Tab Cards
					</td> 
					
					<td>
						<form action="print_ncfl_tab_cards.mhtml" method="post"> 
						<select name="timeslot_id"> 

							<option value="">All Rounds</option> 

% 						foreach my $timeslot (@timeslots) { 
								<option value="<% $timeslot->id %>"><% $timeslot->name %></option> 
% 						}

						</select>
					</td> 
					
					<td>
						<select name="event_id"> 
							<option value="all">All Events</option> 
							
%							foreach my $event(@events) { 
								<option value="<% $event->id %>"><% $event->name %></option> 
% 						}

						</select>
					</td> 
					
					<td>
					</td>
					
					<td>
						<input  type="submit" value="Print">
						</form>
					</td>
				</tr>

				<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

					<td>
						Ballot Envelope Labels
					</td> 
					
					<td>
					</td> 
					
					<td>
						<form action="print_ncfl_labels.mhtml" method="post">

						<select name="judge_group_id">

							<option value="all">All Groups</option>

% 						foreach my $judge_group (sort {$a->name cmp $b->name} $tourn->groups) {
    						<option value="<% $judge_group->id %>"><% $judge_group->name %></option>
% 						}

						</select>
						
					</td> 
					
					<td>
					</td>
					
					<td>
						<input  type="submit" value="Print">
						</form>
					</td>
					
				</tr>

				<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

					<td>
						Labels by Event
					</td> 
					
					<td>
						<form action="print_ncfl_round_labels.mhtml" method="post">
						<select name="timeslot_id"> 
% 						foreach my $timeslot(@timeslots) { 
								<option value="<% $timeslot->id %>"><% $timeslot->name %></option> 
% 						}
						</select>
					</td> 
					
					<td>
						<select name="event_id">
						
%					 		foreach my $event (sort {$a->name cmp $b->name} $m->comp("/funclib/tourn_events.mas", tourn => $tourn)) {
						    	<option value="<% $event->id %>"><% $event->name %></option>
% 						}

						</select>
					</td> 
					
					<td>
					</td> 
					
					<td>
						<input  type="submit" value="Print">
						</form>
					</td>

				</tr>

				<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">
		
					<td> 
						Debate Card Labels
					</td> 
					
					<td>
					</td> 
					
					<td>
						<form action="print_ncfl_debate_labels.mhtml" method="post">

						<select name="judge_group_id">

							<option value="all">All Groups</option>

% 							foreach my $judge_group (sort {$a->name cmp $b->name} $tourn->groups) {
    							<option value="<% $judge_group->id %>"><% $judge_group->name %></option>
% 							}

						</select>
					</td> 
					
					<td>
					</td>
					
					<td>
						<input  type="submit" value="Print">
						</form>
					</td>
					
				</tr> 
				
				<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

					<td>
									Policy Card Labels
					</td>

					<td>

					</td>

					<td>
						<form action="print_ncfl_policy_labels.mhtml" method="post">
						
						<select name="judge_group_id">

							<option value="all">All Groups</option>

% 							foreach my $judge_group (sort {$a->name cmp $b->name} $tourn->groups) {
    							<option value="<% $judge_group->id %>"><% $judge_group->name %></option>
% 							}
						</select>
					</td>

					<td>
					</td>

					<td>
						<input  type="submit" value="Print">
						</form>
					</td>
				</tr>

				<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

					<td>
						Judge Elim Assign Sheets:
					</td>

					<td>
						<form action="print_ncfl_elim_judges.mhtml" method="post">

						<select name="pool_id"> 
% 						foreach my $pool ($tourn->pools( type => "elim" )) { 
								<option value="<% $pool->id %>"><% $pool->name %></option> 
% 						}
						</select>
					</td>

					<td>
						<select name="event_id"> 
% 						foreach my $event (@events) { 
%								next if $event->type ne "speech";
								<option value="<% $event->id %>"><% $event->name %></option> 
% 						}
						</select>
					</td>

					<td>
					</td>

					<td>
						<input  type="submit" value="Print">
						</form>
					</td>

				</tr>

%			}

			<tr>
				<td colspan="8">
					<h4>Hand Tabulation</h4>
				</td>
			</tr>

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">
			
				<td>
					Tab Sheets:
				</td>
				
				<td>
				</td>
				
				<td>
					<form action="print_tabsheets.mas" method="post">
					<select name="event_id"> 
						<option value="all">All Events</option> 
% 					foreach my $event (@events) { 
%							next if $event->type ne "speech";
							<option value="<% $event->id %>"><% $event->name %></option> 
% 					}
					</select>
				</td>

				<td>
				</td>
				
				<td>
					<input  type="submit" value="Print"> 
					</form>
				</td>

			</tr> 
			
			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

				<td>
					Debate Tab Cards:
				</td>
				
				<td>
				</td>
				
				<td>
					<form action="print_debate_cards.mhtml" method="post">
					<select name="event_id"> 
						<option value="all">All Events</option> 

% 					foreach my $event (@events) { 
%							next if $event->type ne "debate";
							<option value="<% $event->id %>"><% $event->name %></option> 
%						}

					</select>
				</td> 
				
				<td>
				</td>
				
				<td>
					<input  type="submit" value="Print"> 
					</form>
				</td>

			</tr>


			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

				<td>
					Print Debate Judge Cards:
				</td>
				
				<td>
				</td> 
				
				<td>

					<form action="print_judge_debate_cards.mhtml" method="post">

					<select name="group_id">

% 					foreach my $group (sort {$a->abbr cmp $b->abbr} $tourn->groups) {
							<option value="<% $group->id %>"><% $group->abbr %></option>
%						}

						<option value="">----------</option>
					</select>
				</td>

				<td>
				</td>

				<td>
					<input  type="submit" value="Print">
					</form>
				</td>
			</tr>

			<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">
			
				<td>
					Print Congress Tab Sheets:
				</td>
				
				<td>
				</td>
				
				<td>

					<form action="print_congress_tabsheets.mas" method="post">

					<select name="event_id"> 
% 					foreach my $event (@events) { 
%							next if $event->type ne "congress";
							<option value="<% $event->id %>"><% $event->name %></option> 
% 					}
					</select>
				</td>

				<td>
				</td>
				
				<td>
					<input  type="submit" value="Print"> 
					</form>
				</td>
			</tr>

% 		if ($tourn->setting('bcfl')) { 

				<form action="print_cfl_tabsheets.mas" method="post">

					<tr class="<% ($switch++ % 2) ? "oddrow" : "evenrow" %>">

						<td>
							CFL Quals Tab Sheets:
						</td>
						
						<td>
						</td>
						
						<td>
							<select name="event_id"> 

								<option value="all">	
									All Events
								</option> 

% 							foreach my $event(@events) { 
									<option value="<% $event->id %>"><% $event->name %></option> 
% 							}

							</select>
						</td>
						
						<td>
						</td>
						
						<td>
							<input  type="submit" value="Print"> 
							</form>
						</td>
					</tr> 

%				}

		<tr>
			<td colspan="7">
				<h4>Message for the bottom of Chairs' Master Ballots:</h4>
			</td>
		</tr> 

		<tr>
			<td colspan="5" align="center">
				<form action="ballot_message_save.mhtml" method="post">
				<textarea name="chair_message" cols="60" rows="5"><% $tourn->setting("chair_ballot_message") %></textarea>
			</td>
		</tr>

		<tr>
			<td colspan="7"><h4>Message for the bottom of Master Ballots:</h4>		</td>
		</tr>

		<tr>
			<td colspan="5" align="center">
				<textarea name="message" cols="60" rows="5"><% $tourn->setting("ballot_message") %></textarea>
			</td>
		</tr>

		<tr>
			<td colspan="5" align="center">
				<input  type="submit" value="Save Messages">
				</form>
			</td>
		</tr>

		</table>

		</div>


<%args>
	$tourn
	$account
	$panel_id
	$judge_id
</%args>
<%init>

	
	my $panel = Tab::Panel->retrieve($panel_id);

	my @judges = $m->comp("/funclib/panel_judges.mas", panel => $panel);

	my $msg;

	if (@judges) { 

		my $judge = shift @judges;

		$msg .= $judge->last." replaced with ";

		$m->comp("/panel/schemat/judge_rm.mhtml", judge_id => $judge->id, panel_id => $panel_id, pre => "shiiiiiny", tourn => $tourn, account => $account);

	}

	$m->comp("/panel/schemat/judge_add.mhtml", judge_id => $judge_id, panel_id => $panel_id, return => "shiiiiiny", tourn => $tourn, account => $account);

	my $new_judge = Tab::Judge->retrieve($judge_id);
	$msg .= $new_judge->last if $new_judge;

	$m->redirect("free_judges.mhtml?round_id=".$panel->round->id."&msg=$msg");


</%init>

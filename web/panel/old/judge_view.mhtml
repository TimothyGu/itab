<%args>
	$tourn
	$account
	$judge_id
</%args>

<%init>
	my $judge = Tab::Judge->retrieve($judge_id);
	my @panels = $judge->panels;

	@panels = sort { $a->round->start cmp $b->round->start } @panels;

</%init>

<h3>Assignment for <% $judge->first." ". $judge->last %></h3>

<table cellpadding="3" width="100%">

% foreach my $panel (@panels) { 

% my $timeslot = $panel->round->timeslot;
% my $ts_start = $timeslot->start;
% my $ts_end = $timeslot->end;
% my $event = $panel->event;
% my $room = $panel->room;
% my $room_name = $room->name if $room;

	<tr>
	<td><% $ts_start->hour_12.":".$ts_start->strftime('%M')." ".$ts_start->strftime('%p') %> </td>
	<td><% $ts_end->hour_12.":".$ts_end->strftime('%M')." ".$ts_end->strftime('%p') %> </td>
	<td><% $event->abbr." ".$panel->letter %></td>
	<td><% $room_name %></td>
	</tr>

% } 

</table>


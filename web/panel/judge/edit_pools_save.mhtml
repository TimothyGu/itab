<%args>
	$tourn
	$account
	$group_id      => undef
</%args>
<%init>

	my $group = Tab::JudgeGroup->retrieve($group_id);

	foreach my $pool ($group->pools) { 

		$pool->name($ARGS{"name_".$pool->id});
		$pool->publish($ARGS{"publish_".$pool->id});
		$pool->standby($ARGS{"standby_".$pool->id});
		$pool->standby_timeslot($ARGS{"standby_timeslot_".$pool->id});
		$pool->site($ARGS{"site_".$pool->id});
		$pool->update;
	}


	my $msg = "Pool settings saved";
	$m->redirect("edit_pools.mhtml?group_id=".$group->id."&msg=$msg");

</%init>

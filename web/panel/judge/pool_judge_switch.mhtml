<%args>
	$judge_id => undef
	$pool_id => undef
	$value => undef
</%args>
<%init>

	my $existing = Tab::PoolJudge->search( judge => $judge_id, pool => $pool_id )->first;
	my $judge = Tab::Judge->retrieve($judge_id);



	if ($value) { 

		unless ($existing) { 

			Tab::debuglog("Judge switched ON for $judge_id in $pool_id");

			Tab::PoolJudge->create({
				judge => $judge_id,
				pool => $pool_id
			});
		}

	} else { 
			
		Tab::debuglog("Judge switched OFF for $judge_id in $pool_id");

		$existing->delete if $existing;
	}


</%init>


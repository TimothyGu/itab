<%args>
	$student_id
	$chapter_id
</%args>
<%init>

	my $student = Tab::Student->retrieve($student_id);
	my $chapter = Tab::Chapter->retrieve($chapter_id);

	my @results = Tab::StudentResult->search( student => $student->id );

	@results = sort {$a->tournament->start->epoch <=> $b->tournament->start->epoch} @results;

</%init>


<h3><% $student->first." ".$student->last %> results</h3>

<table cellspacing="1" cellpadding="5" width="100%">


<tr class="bluerow">
	<th>Tournament</th>
	<th>Event</th>
	<th>Code</th>
	<th>Results</th>
	<th>Rank</th>
	<th>Bid?</th>
</tr>

%	my $switch;

% foreach my $result (@results) { 

    <tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >
		<td><% $result->tournament->name %> <% $result->tournament->start->year %></td>
		<td><% $result->event->name %></td>
		<td><% $result->entry->code %></td>
		<td><% $result->results_bar %></td>
		<td><% $result->rank %></td>
		<td><% ($result->bid) ? "<b>Bid</b>" : "" %></td>
	</tr>
% }

</table>




<%args>
	$tourn
	$group_id
	$no_back_to_back           => 0
	$ballot_entry_school_codes => 0
	$judge_event_twice         => 0
	$allow_school_panels       => 0
	$judge_randomize           => 0
	$audit_method              => 0
	$preference                => 0
	$mutuality                 => 0
	$round_burn_avoid          => 0
	$master_ballot             => 0
	$judge_sheet_notice        => 0
</%args>
<%init>

	my $group = Tab::JudgeGroup->retrieve($group_id);

	$group->setting("no_back_to_back", $no_back_to_back);
	$group->setting("ballot_entry_school_codes", $ballot_entry_school_codes);
	$group->setting("judge_event_twice", $judge_event_twice);
	$group->setting("allow_school_panels", $allow_school_panels);
	$group->setting("judge_randomize", $judge_randomize);
	$group->setting("audit_method", $audit_method);
	$group->setting("preference", $preference);
	$group->setting("mutuality", $mutuality);
	$group->setting("round_burn_avoid", $round_burn_avoid);
	$group->setting("master_ballot", $master_ballot);
	$group->setting("judge_sheet_notice", $judge_sheet_notice);

	$group->setting("preference", "-1") if $preference == 0;
	$group->setting("mutuality", "-1") if $mutuality == 0;
	$group->setting("round_burn_avoid", "-1") if $round_burn_avoid == 0;

	my $msg = "Pairing and tabbing settings saved";

	$m->redirect("tabbing.mhtml?group_id=$group_id&msg=$msg");

</%init>

<%args>
	$circuit	
	$account
	$tourn
	$err => undef
</%args>

%	my $switch;

	<& sidebar.mas, chosen => "hires" &>

	<div class="left huge">

		<h2>Hired Judging Fees</h2>

		<table cellpadding="5" width="100%" cellspacing="1">

% 			$switch = 1;
	
			<tr class="liblrow">
	
				<th>
					Group
				</th>

				<th>
					Per hire
				</th>

				<th>
					Per uncovered entry
				</th>

				<th>
					Per missing judge
					<form action="hires_save.mhtml" method="post">
				</th>

			</tr>

%			foreach my $group (sort {$a->name cmp $b->name} $tourn->groups) { 

 				<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

					<th class="center">
						<% $group->abbr %>
					</td>

					<td align="center">
						$<input type="number" name="hired_<% $group->id %>" value="<% $group->hired_fee %>" size="6">
					</td>

					<td align="center">
						$<input type="number" name="uncovered_<% $group->id %>" value="<% $group->uncovered_entry_fee %>" size="6">
					</td>

					<td align="center">
						$<input type="number" name="missing_<% $group->id %>" value="<% $group->missing_judge_fee %>" size="6">
					</td>

				</tr>
% 			}

			<tr class="liblrow">
				<td colspan="10" align="right">
					<input class="blue" type="submit" value="     Save Judge Fees     ">
				</td>
			</tr>

		</table>

		<h4>Availability</h4>

		<table cellpadding="5" width="100%" cellspacing="1">

% 			$switch = 1;
	
			<tr class="liblrow">
	
				<th>
					Group
				</th>

				<th>
					Judges Available
				</th>

			</tr>

%			foreach my $group (sort {$a->name cmp $b->name} $tourn->groups) { 

 				<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

					<th class="center">
						<% $group->abbr %>
					</td>

					<td align="left">
						<input type="number" name="judges_<%$group->id %>" value="<% $group->hired_pool %>" size="10">
					</td>

				</tr>
% 			}

			<tr class="liblrow">
				<td colspan="10" align="right">
					<input class="blue" type="submit" value="     Save Judge Numbers    ">
					</form>
				</td>
			</tr>

		</table>

		<h4>Fee explanation</h4>

		<ul>
			<li>
				"Per hire" charges for each approved hired judge request by
				the judge.  Each accepted hire request charges this much
				and count as a full judge towards a school's obligation.
			</li>

			<li>
				"Per uncovered entry" charges for each entry covered by an
				approved hire request ; schools can hire out "partial judges"
				rather than having to buy a whole judge to cover less than
				an entire judge's worth of entries.
			</li>

			<li>
				"Per missing judge" charges a flat fee for every judge the
				school is missing.  This will be charged automatically.
				Approved hire requests will not to be counted towards this fee.
			</li>

		</ul>

		<h4>Hired Judging Numbers</h4>

			<ul>
				<li>
				If you set these values to the number of judges you are hiring,
				tabroom.com will automatically accept judge hire requests until
				that amount of judging is sold.   Set to 0 if you want to 
				manually approve all judge hire requests.
				</li>
			</ul>

	</div>
